
# Telegram-бот для интернет-магазина Zap-z.ru

Этот бот предназначен для уведомления клиентов об их заказах, а также для рассылки новостей и сообщений от администрации.

## Установка

1.  **Клонируйте репозиторий** (если применимо) или просто скопируйте файлы из директории `bot/` в отдельную папку на вашем сервере.

2.  **Установите зависимости:**
    Откройте терминал в папке `bot/` и выполните команду:
    ```bash
    npm install
    ```

## Настройка

1.  **Создайте файл `.env`**:
    В папке `bot/` создайте файл с именем `.env` на основе файла `.env.example`.

2.  **Заполните `.env`**:
    Откройте файл `.env` и укажите необходимые значения:

    ```env
    # Получите токен у @BotFather в Telegram
    TELEGRAM_BOT_TOKEN=your_token_here

    # ID вашего новостного канала (например, -1001234567890) или его username (@zapznews)
    # Для пересылки постов бот должен быть администратором в этом канале
    TELEGRAM_CHANNEL_ID=@zapznews

    # ID вашего Telegram-аккаунта для доступа к админ-командам (например, /broadcast)
    # Можно узнать у @userinfobot. Если админов несколько, перечислите через запятую.
    ADMIN_IDS=123456789

    # URL вашего сайта для формирования ссылок в уведомлениях
    BASE_URL=https://zap-z.ru

    # Порт, на котором будет работать API бота для приёма уведомлений от сайта
    PORT=3001
    ```

## Запуск

1.  **Запустите бота:**
    В терминале, находясь в папке `bot/`, выполните команду:
    ```bash
    npm start
    ```
    Или, если вы хотите запустить его в фоновом режиме с помощью `pm2`:
    ```bash
    pm2 start index.js --name zap-z-bot
    ```

После запуска бот будет активен и готов к работе. API для приёма уведомлений будет доступно по адресу `http://localhost:3001/api/notify`. Убедитесь, что ваше основное приложение (интернет-магазин) может отправлять запросы на этот адрес.